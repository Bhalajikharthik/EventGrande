<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1">

	<title>EventGrande</title>

	<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,900" rel="stylesheet"
		type="text/css">
	<link href="fonts/font-awesome.min.css" rel="stylesheet" type="text/css">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="blog.css">

</head>

<body>

	<div id="site-content">
		<header class="site-header">
			<div class="container">
				<a href="index.html" id="branding">
					<h2 class="site-description">EventGrande</h2>
				</a>

				<nav class="main-navigation">
					<button type="button" class="toggle-menu"><i class="fa fa-bars"></i></button>
					<ul class="menu">
						<li class="menu-item"><a href="index.html">Home</a></li>
						<li class="menu-item"><a href="about.html">Book Event</a></li>
						<li class="menu-item"><a href="gallery.html">All Events</a></li>
						<li class="menu-item current-menu-item"><a href="blog.html">Post</a></li>
						<li class="menu-item"><a href="login.html">Login</a></li>
					</ul>
				</nav>
				<div class="mobile-menu"></div>
			</div>
		</header> <!-- .site-header -->

		<main class="main-content" ng-app="prwpst" ng-controller="pctrl">
			<div class="fullwidth-block inner-content">
				<div class="container">
					<div class="row">
						<div class="col-md-7">
							<div class="content">
								<h2 class="entry-title" id="entry-title">Articles</h2>

								<div class="post" ng-hide="ppost">
									<div class="entry-date">
										<div class="date">{{ddate}}</div>
										<span class="month">{{mmonth}}</span>
										<span class="month">Post</span>
									</div>
									<div class="featured-image">
										<img src={{pctrl.img}} alt="not found">
									</div>
									<h2 class="entry-title" ng-bind="pctrl.title"><a href="#">Recent posts title</a></h2>
									<p ng-bind="pctrl.content" >Here goes the content. Abcd efg hijk lamnajkdpoh kdfokdafgh ahfka aophag oghafg f
										gofghdfhg goig a fghoafhgafg aogohgofdg ho ihji ug gy gyyg y gigi gg g tdxrex rc
										ty t tvtg .</p>
								</div>
								<div class="post" ng-hide="ppost1">
									<div class="entry-date">
										<div class="date">{{ddate}}</div>
										<span class="month">{{mmonth}}</span>
										<span class="month">Update</span>
									</div>
									<div class="featured-image">
										<img src={{pctrl.img}} alt="not found">
									</div>
									<h2 class="entry-title"  ng-bind="pctrl.title1"><a href="#">Recent posts title</a></h2>
									<p  ng-bind="pctrl.content1">Here goes the content. Abcd efg hijk lamnajkdpoh kdfokdafgh ahfka aophag oghafg f
										gofghdfhg goig a fghoafhgafg aogohgofdg ho ihji ug gy gyyg y gigi gg g tdxrex rc
										ty t tvtg .</p>
								</div>
							<div ng-repeat="card in cards | orderBy:'-date'">
								<div class="post">
									<div class="entry-date">
										<div class="date">{{card.date}}</div>
										<span class="month">{{card.month}}</span>
									</div>
									<div class="featured-image">
										<img src={{card.imglink}} alt="">
									</div>
									<h2 class="entry-title"><a href="#">{{card.title}}</a></h2>
									<p>{{card.content}}</p>
								</div>
							</div>
								
							</div>
						</div>
						<div class="col-md-4 col-md-push-1">
							<aside class="sidebar">
								<div class="widget">
									<h3 class="widget-title">Create a Post</h3>
									
									<div class="box">
										<form name="createform" action="/insertform" method="post">
											<div class="input-box">
												<input id="user_post_title" type="text" name="title" required="" ng-model="pctrl.title">
												<label>Title</label>
												<span style = "color:rgb(195, 0, 255)" ng-show = "createform.title.$dirty && createform.title.$invalid">
													<span ng-show = "createform.title.$error.required">Title is required</span>
												 </span>
											</div>
											<div class="input-box">
												<input id="user-post-link" type="link" name="imglink" required="" ng-model="pctrl.img">
												<label>Image source</label>
												<span style = "color:rgb(195, 0, 255)" ng-show = "createform.imglink.$dirty && createform.imglink.$invalid">
													<span ng-show = "createform.imglink.$error.required">Add an image !</span>
												 </span>
											</div>
											<div class="input-box">
												<label>Content</label><br><br>
												<textarea id="user-post-test" rows="15" cols="35"  name="content" required="" ng-model="pctrl.content" ng-minlength="20">
												</textarea>	
												<span style = "color:rgb(195, 0, 255)" ng-show = "createform.content.$dirty && createform.content.$invalid">
													<span ng-show = "createform.content.$error.required">Need more content !</span>
												 </span>																						
											</div>								
											<div class="center-button">												
												<button type="button" ng-click="show()">Preview </button>&nbsp;
												<input id="submit" type="submit" name="" value="Post">
											</div>
										</form>
									</div>

									<br>
									<br>

									<h4 class="widget-title">Update/Delete</h4>
									<span style = "color:rgb(195, 0, 255)">
										<span>Find using the title </span>
									 </span>
									<div class="box">
										<form name="editform" action="/editform" method="post">								
											<div class="input-box">
												<input id="user_post_title" type="text" name="search_title" >
												<label>Search Title</label>
											</div>
											<div class="input-box">
												<input id="user_post_title" type="text" name="title" ng-model="pctrl.title1">
												<label>Updated Title</label>
												<span style = "color:rgb(195, 0, 255)" ng-show = "createform.title.$dirty && createform.title.$invalid">
													<span ng-show = "createform.title.$error.required">Title is required</span>
												 </span>
											</div>
											<div class="input-box">
												<input id="user-post-link" type="link" name="imglink"  ng-model="pctrl.img1">
												<label>Updated Image source</label>
												<span style = "color:rgb(195, 0, 255)" ng-show = "createform.imglink.$dirty && createform.imglink.$invalid">
													<span ng-show = "createform.imglink.$error.required">Add an image !</span>
												 </span>
											</div>
											<div class="input-box">
												<label>Updated Content</label><br><br>
												<textarea id="user-post-test" rows="15" cols="35"  name="content" ng-model="pctrl.content1" ng-minlength="20">
												</textarea>	
												<span style = "color:rgb(195, 0, 255)" ng-show = "createform.content.$dirty && createform.content.$invalid">
													<span ng-show = "createform.content.$error.required">Need more content !</span>
												 </span>																						
											</div>								
											<div class="center-button">												
												<button type="button" ng-click="show1()">Preview </button>&nbsp;
												<button type="submit" formaction="/delete" method="post">Delete </button>&nbsp;
												<input id="submit" type="submit" name="" value="Update">
											</div>
										</form>
									</div>
								</div>
							</aside>
						</div>
					</div>
				</div>
			</div> <!-- .testimonial-section -->
		</main> <!-- .main-content -->
		<script type="text/javascript">
			var app=angular.module('prwpst', []);
			var today = new Date()
        	var dd = String(today.getDate()).padStart(2, '0')
        	var mm = today.toLocaleString('default', { month: 'short' });
			app.controller('pctrl', function($scope, $http) {
				$scope.ddate=dd;
				$scope.mmonth=mm;
				$scope.ppost=true;
				$scope.ppost1=true;
				$scope.show=function(){
					$scope.ppost=!$scope.ppost;
					window.scroll(0, 0);
				}
				$scope.show1=function(){
					$scope.ppost1=!$scope.ppost1;
					window.scroll(0, 0);
				}
				$http({
                method: 'GET',
                url: "http://localhost:3000/load"
                }).then(function success(response) {
                    $scope.cards=response.data;
                    }, function error(response) {
                    }
                );
			  });
		  </script>
	</div> <!-- #site-content -->

	<script src="js/jquery-1.11.1.min.js"></script>
	<script src="js/plugins.js"></script>
	<script src="js/app.js"></script>

</body>

</html>